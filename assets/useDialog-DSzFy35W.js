/* empty css             *//* empty css                  *//* empty css                   */import"./pageContent-DG5unNTM.js";/* empty css                     *//* empty css                  *//* empty css                 */import{_ as U,c as _,o as n,b as r,w as a,g as S,F as f,x as g,y as u,ad as O,h as P,am as Q,i as R,an as v,ao as w,ap as j,k,m as M,n as x,aq as H,d as B,a2 as A,$ as L,ar as T,l as G,t as N}from"./index-Ds9wwjLc.js";/* empty css               *//* empty css                 */const J={props:{option:{type:Object,required:!0}},data(){return{dialogFormVisible:!1,formData:{},currentMode:""}},emits:["confirmClick"],methods:{onConfirmClick(){this.$emit("confirmClick",{...this.formData},this.currentMode),this.dialogFormVisible=!1},setFormState(l,e="create"){this.dialogFormVisible=!0,this.currentMode=e,this.formData=l}},expose:["setFormState"]},K={class:"pageDialog"},W={class:"footer"};function X(l,e,t,d,i,c){const C=R,V=w,b=v,q=P,F=S,h=M,D=H;return n(),_("div",K,[r(D,{modelValue:i.dialogFormVisible,"onUpdate:modelValue":e[1]||(e[1]=o=>i.dialogFormVisible=o),title:t.option.title,width:"500","header-class":"header",center:""},{footer:a(()=>[k("div",W,[r(h,{onClick:e[0]||(e[0]=o=>i.dialogFormVisible=!1)},{default:a(()=>e[2]||(e[2]=[x("取消")])),_:1}),r(h,{type:"primary",onClick:c.onConfirmClick},{default:a(()=>e[3]||(e[3]=[x("确定")])),_:1},8,["onClick"])])]),default:a(()=>[r(F,{"label-width":"auto",size:"large"},{default:a(()=>[(n(!0),_(f,null,g(l.$props.option.formOption,(o,E)=>(n(),_(f,{key:E},[i.currentMode!=="create"&&o.showState==="createOnly"?O("",!0):(n(),u(q,{key:0,label:o.label},{default:a(()=>[o.type==="label"?(n(),u(C,{key:0,modelValue:i.formData[o.key],"onUpdate:modelValue":p=>i.formData[o.key]=p,placeholder:o.placeholder},null,8,["modelValue","onUpdate:modelValue","placeholder"])):o.type==="select"?(n(),u(b,{key:1,modelValue:i.formData[o.key],"onUpdate:modelValue":p=>i.formData[o.key]=p,placeholder:o.placeholder},{default:a(()=>[(n(!0),_(f,null,g(o.selectOptions,(p,y)=>(n(),u(V,j({key:y,ref_for:!0},p),null,16))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):o.type==="custom"?Q(l.$slots,o.slotName,{key:2,data:i.formData[o.key]},void 0,!0):O("",!0)]),_:2},1032,["label"]))],64))),128))]),_:3})]),_:3},8,["modelValue","title"])])}const pe=U(J,[["render",X],["__scopeId","data-v-253c80d7"]]),Y={props:{option:{type:Array,required:!0},data:{type:Object,default:{}}},data(){return{}},emits:["queryBtnClick"],methods:{onResetBtnClick(){this.$refs.formRef.resetFields()},onQueryBtnClick(){this.$emit("queryBtnClick",{...this.$props.data})}}},Z={class:"pageHeader"},ee={class:"btns"};function te(l,e,t,d,i,c){const C=R,V=w,b=v,q=T,F=P,h=L,D=A,o=S,E=B("Refresh"),p=G,y=M,I=B("Search");return n(),_("div",Z,[r(o,{ref:"formRef",model:t.data,"label-width":"100",size:"large",style:{padding:"20px 20px 0"}},{default:a(()=>[r(D,null,{default:a(()=>[(n(!0),_(f,null,g(t.option,(s,z)=>(n(),u(h,{key:z,sm:12,md:12,lg:8},{default:a(()=>[r(F,{label:s.name,prop:s.key,style:{padding:"10px 40px"}},{default:a(()=>[s.type==="input"?(n(),u(C,{key:0,modelValue:t.data[s.key],"onUpdate:modelValue":m=>t.data[s.key]=m,placeholder:s.placeholder},null,8,["modelValue","onUpdate:modelValue","placeholder"])):s.type==="select"?(n(),u(b,{key:1,modelValue:t.data[s.key],"onUpdate:modelValue":m=>t.data[s.key]=m,placeholder:s.placeholder},{default:a(()=>[(n(!0),_(f,null,g(s.selectOptions,(m,$)=>(n(),u(V,{key:$,label:m.name,value:m.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder"])):s.type==="datePicker"?(n(),u(q,{key:2,modelValue:t.data[s.key],"onUpdate:modelValue":m=>t.data[s.key]=m,type:"daterange","range-separator":"-","start-placeholder":"开始时间","end-placeholder":"结束时间"},null,8,["modelValue","onUpdate:modelValue"])):O("",!0)]),_:2},1032,["label","prop"])]),_:2},1024))),128))]),_:1})]),_:1},8,["model"]),k("div",ee,[r(y,{type:"default",onClick:c.onResetBtnClick},{default:a(()=>[r(p,null,{default:a(()=>[r(E)]),_:1}),e[0]||(e[0]=k("span",null," 重置",-1))]),_:1},8,["onClick"]),r(y,{type:"primary",onClick:c.onQueryBtnClick},{default:a(()=>[r(p,null,{default:a(()=>[r(I)]),_:1}),e[1]||(e[1]=k("span",null," 查询",-1))]),_:1},8,["onClick"])])])}const me=U(Y,[["render",te],["__scopeId","data-v-18c2dfb3"]]),_e=function(l){return{data(){return{}},methods:{handlePagerChange(e){this.requestConfig={offset:--e.currentPage*e.size,size:e.size},this.$store.dispatch(l.listPath,{...this.requestConfig,...this.queryConfig})},handleCreate(){var e;(e=this.$refs.dialogRef)==null||e.setFormState({})},async handleDelete(e){const t=await l.deleteFn(e);t.data.code!==0&&N({message:t.data.data,type:"warning"}),this.$store.dispatch(l.listPath,{...this.requestConfig,...this.queryConfig})},handleEdit(e){var t;(t=this.$refs.dialogRef)==null||t.setFormState(e,"edit")}}}},fe=function(l){return{methods:{handleQueryClick(e){this.queryConfig={...e},l.viewName==="goods"&&(this.requestConfig.requestMode="query"),this.$store.dispatch(l.listPath,{...this.requestConfig,...e}),l.viewName==="goods"&&delete this.requestConfig.requestMode}}}},he=function(l){return{methods:{async handleConfirmClick(e,t){let d;t==="create"?d=await l.createFn(e):t==="edit"&&(d=await l.editFn(e)),this.$store.dispatch(l.listPath,{...this.requestConfig,...this.queryConfig}),console.log(d),N({message:d.status===200||d.status===201?"操作成功":d.message,type:d.status===200||d.status===201?"success":"error"})},setupDialogSelectOption(e,t){const d=e.map(c=>({label:c.name,value:c.id})),i=this.dialogOption.formOption.findIndex(c=>c.label===t);this.dialogOption.formOption[i].selectOptions=d}}}};export{pe as _,fe as a,he as b,me as c,_e as u};
