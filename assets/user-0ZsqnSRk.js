import{u as b,a as C,b as g,_ as r,c as p}from"./useDialog-DSzFy35W.js";import{_ as c}from"./pageContent-DG5unNTM.js";/* empty css             *//* empty css                  */import{_ as k,Z as _,c as f,o as D,b as a,w as s,m as L,n as O,B as w,aj as P,ak as B,al as E}from"./index-Ds9wwjLc.js";/* empty css                   *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css               *//* empty css                 */const v=[{name:"用户名",placeholder:"请输入用户名",key:"name",type:"input"},{name:"真实姓名",placeholder:"请输入真实姓名",key:"realname",type:"input"},{name:"手机号码",placeholder:"请输入手机号码",key:"cellphone",type:"input"},{name:"状态",placeholder:"请选择状态",key:"enable",type:"select",selectOptions:[{name:"启用",value:1},{name:"禁用",value:0}]},{name:"创建时间",type:"datePicker",key:"createAt"}],I={header:{title:"用户列表",btnName:"新建用户"},content:{tableOption:[{type:"selection",width:"55"},{type:"index",label:"序号",width:"70"},{prop:"name",label:"用户名",width:"120"},{prop:"realname",label:"真实姓名",width:"120"},{prop:"cellphone",label:"手机号码",width:"150"},{prop:"enable",label:"状态",width:"100",type:"custom",slotName:"enable"},{prop:"createAt",label:"创建时间",minWidth:"120",type:"createDate"},{prop:"updateAt",label:"更新时间",minWidth:"120",type:"updateDate"},{label:"操作",width:"170",type:"operation"}]}},S={title:"新建用户",formOption:[{type:"label",label:"用户名",placeholder:"请输入用户名",key:"name"},{type:"label",label:"真实姓名",placeholder:"请输入真实姓名",key:"realname"},{type:"label",label:"密码",placeholder:"请输入密码",key:"password",showState:"createOnly"},{type:"label",label:"电话号码",placeholder:"请输入电话号码",key:"cellphone"},{type:"select",label:"选择角色",placeholder:"请选择角色",key:"roleId",selectOptions:[]},{type:"select",label:"选择部门",placeholder:"请选择部门",key:"departmentId",selectOptions:[]}]},l={listPath:"system/fetchUserList",createFn:E,editFn:B,deleteFn:P},U=b(l),q=C(l),A=g(l),F={components:{PageHeader:p,PageContent:c,PageDialog:r},mixins:[U,q,A],data(){return{headerOption:v,headerData:{name:"",realname:"",cellphone:"",enable:"",createAt:""},contentOption:I,dialogOption:S,dialogData:{name:"",realname:"",password:"",cellphone:"",departmentId:"",roleId:""},requestConfig:null,queryConfig:{}}},computed:{..._("system",{userList:e=>e.userList,roleList:e=>e.roleList,departmentList:e=>e.departmentList})},created(){const e=this.$store.dispatch;e("system/fetchUserList");const o=e("system/fetchRoleList"),i=e("system/fetchDepartmentList");Promise.all([o,i]).then(()=>{this.setupDialogSelectOption(this.roleList,"选择角色"),this.setupDialogSelectOption(this.departmentList,"选择部门")})},methods:{onEnableBtnClick(e){e.data.enable===1?e.data.enable=0:e.data.enable=1},handleEditUser(e){this.$refs.dialogRef.setFormState(e,"edit")}}},H={class:"user"};function N(e,o,i,M,t,d){const m=p,h=L,u=c,y=r;return D(),f("div",H,[a(m,{option:t.headerOption,data:t.headerData,onQueryBtnClick:e.handleQueryClick},null,8,["option","data","onQueryBtnClick"]),a(u,{option:t.contentOption,data:e.userList.list,"total-count":e.userList.totalCount,onPagerChange:e.handlePagerChange,onCreateClick:e.handleCreate,onDeleteClick:e.handleDelete,onEditClick:e.handleEdit},{enable:s(n=>[a(h,{type:n.data.enable===1?"success":"danger",size:"small",plain:"",onClick:Q=>d.onEnableBtnClick(n)},{default:s(()=>[O(w(n.data.enable===1?"启用":"禁用"),1)]),_:2},1032,["type","onClick"])]),_:1},8,["option","data","total-count","onPagerChange","onCreateClick","onDeleteClick","onEditClick"]),a(y,{ref:"dialogRef",option:t.dialogOption,onConfirmClick:e.handleConfirmClick},null,8,["option","onConfirmClick"])])}const K=k(F,[["render",N],["__scopeId","data-v-55a38f20"]]);export{K as default};
